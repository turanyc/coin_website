{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Turan/OneDrive/Masa%C3%BCst%C3%BC/my-crypto-tracker/my-crypto-tracker/src/pages/api/coins/%5BcoinId%5D/news.ts"],"sourcesContent":["// pages/api/coins/[coinId]/news.ts\r\nimport { NextApiRequest, NextApiResponse } from 'next';\r\n\r\ninterface CoinGeckoNewsItem {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  url: string;\r\n  image?: {\r\n    thumbnail?: {\r\n      contentUrl?: string;\r\n    };\r\n  };\r\n  provider: Array<{\r\n    name: string;\r\n  }>;\r\n  datePublished: string;\r\n}\r\n\r\ninterface CoinGeckoNewsResponse {\r\n  value: CoinGeckoNewsItem[];\r\n}\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  const { coinId } = req.query;\r\n\r\n  if (!coinId || typeof coinId !== 'string') {\r\n    return res.status(400).json({ error: 'Coin ID gerekli' });\r\n  }\r\n\r\n  try {\r\n    // Timeout için AbortController kullan\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 10000);\r\n\r\n    // Bing News Search API veya alternatif bir haber API'si kullanılabilir\r\n    // Şimdilik CoinGecko'nun haber API'si yok, bu yüzden örnek veri döndürelim\r\n    // Gerçek uygulamada bir haber API'si entegre edilebilir\r\n\r\n    clearTimeout(timeoutId);\r\n\r\n    // Coin adını URL-safe hale getir\r\n    const coinNameEncoded = encodeURIComponent(coinId);\r\n    const coinNameDisplay = coinId.charAt(0).toUpperCase() + coinId.slice(1);\r\n\r\n    // Örnek haber verileri (gerçek API entegrasyonu için değiştirilebilir)\r\n    const sampleNews = [\r\n      {\r\n        id: '1',\r\n        title: `${coinNameDisplay} Fiyat Analizi ve Güncel Gelişmeler`,\r\n        description: `${coinId} hakkında son gelişmeler ve piyasa analizi.`,\r\n        url: `https://cointelegraph.com/search?q=${coinNameEncoded}`,\r\n        image: 'https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=400&h=250&fit=crop',\r\n        source: 'CoinTelegraph',\r\n        publishedTime: 'yaklaşık 1 saat önce',\r\n      },\r\n      {\r\n        id: '2',\r\n        title: `${coinNameDisplay} Piyasa Görünümü ve Yatırımcı Yorumları`,\r\n        description: `${coinId} için piyasa görünümü ve uzman yorumları.`,\r\n        url: `https://cointurk.com/search?q=${coinNameEncoded}`,\r\n        image: 'https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=400&h=250&fit=crop',\r\n        source: 'Cointurk',\r\n        publishedTime: 'yaklaşık 2 saat önce',\r\n      },\r\n      {\r\n        id: '3',\r\n        title: `${coinNameDisplay} Teknik Analiz ve Gelecek Tahminleri`,\r\n        description: `${coinId} için teknik analiz ve gelecek fiyat tahminleri.`,\r\n        url: `https://cointelegraph.com/search?q=${coinNameEncoded}`,\r\n        image: 'https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=400&h=250&fit=crop',\r\n        source: 'CoinTelegraph',\r\n        publishedTime: 'yaklaşık 3 saat önce',\r\n      },\r\n    ];\r\n\r\n    res.status(200).json({\r\n      news: sampleNews,\r\n    });\r\n  } catch (error) {\r\n    console.error('News API Error:', error);\r\n    \r\n    res.status(200).json({\r\n      news: [],\r\n      error: 'Haberler yüklenirken bir hata oluştu.',\r\n      details: error instanceof Error ? error.message : 'Bilinmeyen hata',\r\n    });\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;;AAuBpB,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC7E,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,KAAK;IAE5B,IAAI,CAAC,UAAU,OAAO,WAAW,UAAU;QACzC,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAkB;IACzD;IAEA,IAAI;QACF,sCAAsC;QACtC,MAAM,aAAa,IAAI;QACvB,MAAM,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI;QAEvD,uEAAuE;QACvE,2EAA2E;QAC3E,wDAAwD;QAExD,aAAa;QAEb,iCAAiC;QACjC,MAAM,kBAAkB,mBAAmB;QAC3C,MAAM,kBAAkB,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC;QAEtE,uEAAuE;QACvE,MAAM,aAAa;YACjB;gBACE,IAAI;gBACJ,OAAO,GAAG,gBAAgB,mCAAmC,CAAC;gBAC9D,aAAa,GAAG,OAAO,2CAA2C,CAAC;gBACnE,KAAK,CAAC,mCAAmC,EAAE,iBAAiB;gBAC5D,OAAO;gBACP,QAAQ;gBACR,eAAe;YACjB;YACA;gBACE,IAAI;gBACJ,OAAO,GAAG,gBAAgB,uCAAuC,CAAC;gBAClE,aAAa,GAAG,OAAO,yCAAyC,CAAC;gBACjE,KAAK,CAAC,8BAA8B,EAAE,iBAAiB;gBACvD,OAAO;gBACP,QAAQ;gBACR,eAAe;YACjB;YACA;gBACE,IAAI;gBACJ,OAAO,GAAG,gBAAgB,oCAAoC,CAAC;gBAC/D,aAAa,GAAG,OAAO,gDAAgD,CAAC;gBACxE,KAAK,CAAC,mCAAmC,EAAE,iBAAiB;gBAC5D,OAAO;gBACP,QAAQ;gBACR,eAAe;YACjB;SACD;QAED,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,MAAM;QACR;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QAEjC,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,MAAM,EAAE;YACR,OAAO;YACP,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACpD;IACF;AACF"}}]
}